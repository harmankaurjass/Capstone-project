{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import GoogleLogin from'react-google-login';import{CLIENT_ID}from'../config/keys';import*as actions from'../actions/index';var SignUp=/*#__PURE__*/function(_Component){_inherits(SignUp,_Component);var _super=_createSuper(SignUp);function SignUp(props){var _this;_classCallCheck(this,SignUp);_this=_super.call(this,props);_this.responseGoogle=_this.responseGoogle.bind(_assertThisInitialized(_this));return _this;}_createClass(SignUp,[{key:\"responseGoogle\",value:function(){var _responseGoogle=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(res){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('responseGoogle is ',res);console.log('typeof res ',typeof res);console.log('access token is ',res.accessToken);// console.log('google id', res.profileObj.googleId)\n_context.next=5;return this.props.oauthGoogle(res.accessToken);case 5:if(this.props.isAuth){this.props.fetchUserProfile(res.profileObj.googleId);}if(!this.props.errorMessage){this.props.history.push('/');}case 7:case\"end\":return _context.stop();}}},_callee,this);}));function responseGoogle(_x){return _responseGoogle.apply(this,arguments);}return responseGoogle;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center mt-5 mb-5\"},/*#__PURE__*/React.createElement(\"h2\",{style:homeHead},\"Book Monk\"),/*#__PURE__*/React.createElement(\"h5\",{className:\"mt-5 mb-5\"},\"Sign Up with Google\"),/*#__PURE__*/React.createElement(GoogleLogin,{clientId:CLIENT_ID,buttonText:\"Google\",scope:\"openid profile email\",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,isSignedIn:true}));}}]);return SignUp;}(Component);var mapStateToProps=function mapStateToProps(state){return{isAuth:state.auth.isAuth,errorMessage:state.auth.errorMessage,accessTokenG:state.auth.accessTokenG};};var homeHead={color:\"#007bff\",fontSize:\"50px\",fontWeight:\"800\"};export default connect(mapStateToProps,actions)(SignUp);","map":{"version":3,"sources":["C:/Users/dilji/capstone/sync/Capstone-project/client/src/components/SignUp.js"],"names":["React","Component","connect","GoogleLogin","CLIENT_ID","actions","SignUp","props","responseGoogle","bind","res","console","log","accessToken","oauthGoogle","isAuth","fetchUserProfile","profileObj","googleId","errorMessage","history","push","homeHead","mapStateToProps","state","auth","accessTokenG","color","fontSize","fontWeight"],"mappings":"uvCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,WAAP,KAAwB,oBAAxB,CACA,OAASC,SAAT,KAA0B,gBAA1B,CAEA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,kBAAzB,C,GAGMC,CAAAA,M,gGACF,gBAAYC,KAAZ,CAAmB,wCACf,uBAAMA,KAAN,EACA,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB,CAFe,aAGlB,C,wIAED,iBAAqBC,GAArB,kHACIC,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCF,GAAlC,EACAC,OAAO,CAACC,GAAR,CAAY,aAAZ,CAA2B,MAAOF,CAAAA,GAAlC,EACAC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCF,GAAG,CAACG,WAApC,EACD;AAJH,sBAKU,MAAKN,KAAL,CAAWO,WAAX,CAAuBJ,GAAG,CAACG,WAA3B,CALV,QAMI,GAAI,KAAKN,KAAL,CAAWQ,MAAf,CAAuB,CACnB,KAAKR,KAAL,CAAWS,gBAAX,CAA4BN,GAAG,CAACO,UAAJ,CAAeC,QAA3C,EACH,CACD,GAAI,CAAC,KAAKX,KAAL,CAAWY,YAAhB,CAA8B,CAC1B,KAAKZ,KAAL,CAAWa,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACH,CAXL,2D,4HAeA,iBAAS,CACL,mBACI,2BAAK,SAAS,CAAC,uBAAf,eACI,0BAAI,KAAK,CAAEC,QAAX,cADJ,cAEI,0BAAI,SAAS,CAAC,WAAd,wBAFJ,cAGI,oBAAC,WAAD,EACI,QAAQ,CAAElB,SADd,CAEI,UAAU,CAAC,QAFf,CAGI,KAAK,CAAC,sBAHV,CAII,SAAS,CAAE,KAAKI,cAJpB,CAKI,SAAS,CAAE,KAAKA,cALpB,CAMI,UAAU,CAAE,IANhB,EAHJ,CADJ,CAeH,C,oBArCgBP,S,EAwCrB,GAAMsB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAO,CACHT,MAAM,CAAES,KAAK,CAACC,IAAN,CAAWV,MADhB,CAEHI,YAAY,CAAEK,KAAK,CAACC,IAAN,CAAWN,YAFtB,CAGHO,YAAY,CAAEF,KAAK,CAACC,IAAN,CAAWC,YAHtB,CAAP,CAKH,CAND,CASA,GAAMJ,CAAAA,QAAQ,CAAG,CACbK,KAAK,CAAE,SADM,CAEbC,QAAQ,CAAE,MAFG,CAGbC,UAAU,CAAE,KAHC,CAAjB,CAMA,cAAe3B,CAAAA,OAAO,CAACqB,eAAD,CAAkBlB,OAAlB,CAAP,CAAkCC,MAAlC,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport GoogleLogin from 'react-google-login';\r\nimport { CLIENT_ID } from '../config/keys'\r\n\r\nimport * as actions from '../actions/index';\r\n\r\n\r\nclass SignUp extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.responseGoogle = this.responseGoogle.bind(this);\r\n    }\r\n\r\n    async responseGoogle(res) {\r\n        console.log('responseGoogle is ', res);\r\n        console.log('typeof res ', typeof res);\r\n        console.log('access token is ', res.accessToken)\r\n       // console.log('google id', res.profileObj.googleId)\r\n        await this.props.oauthGoogle(res.accessToken);\r\n        if (this.props.isAuth) {\r\n            this.props.fetchUserProfile(res.profileObj.googleId);\r\n        }\r\n        if (!this.props.errorMessage) {\r\n            this.props.history.push('/');\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"text-center mt-5 mb-5\">\r\n                <h2 style={homeHead}>Book Monk</h2>\r\n                <h5 className='mt-5 mb-5'>Sign Up with Google</h5>\r\n                <GoogleLogin\r\n                    clientId={CLIENT_ID}\r\n                    buttonText=\"Google\"\r\n                    scope=\"openid profile email\"\r\n                    onSuccess={this.responseGoogle}\r\n                    onFailure={this.responseGoogle}\r\n                    isSignedIn={true}\r\n\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        errorMessage: state.auth.errorMessage,\r\n        accessTokenG: state.auth.accessTokenG\r\n    }\r\n}\r\n\r\n\r\nconst homeHead = {\r\n    color: \"#007bff\",\r\n    fontSize: \"50px\",\r\n    fontWeight: \"800\"\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(SignUp)"]},"metadata":{},"sourceType":"module"}