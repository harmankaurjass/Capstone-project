{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:\\\\Users\\\\dilji\\\\capstone\\\\sync\\\\Capstone-project\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{ADD_TO_CART,INCREMENT_QUANTITY,DECREMENT_QUANTITY,REMOVE_FROM_CART,EMPTY_CART}from'../actions/types';var CART_STATE={items:[],subTotal:0,total:0,shipping:99};export default(function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:CART_STATE;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_TO_CART:var newItem={};var alreadyExist=state.items.find(function(item){return item.book.id===action.payload.id;});if(alreadyExist){newItem=alreadyExist;newItem.quantity+=1;return _objectSpread(_objectSpread({},state),{},{subTotal:state.subTotal+newItem.book.price,total:state.total+newItem.book.price});}else{newItem.book=action.payload;newItem.quantity=1;return _objectSpread(_objectSpread({},state),{},{items:[].concat(_toConsumableArray(state.items),[newItem]),subTotal:state.subTotal+newItem.book.price,total:state.total+newItem.book.price+(state.total>0?0:state.shipping)});}case INCREMENT_QUANTITY:var book=state.items.find(function(item){return item.book.id===Number(action.payload);});if(book){var _newItem={};_newItem=book;_newItem.quantity+=1;return _objectSpread(_objectSpread({},state),{},{subTotal:state.subTotal+_newItem.book.price,total:state.total+_newItem.book.price});}else{return _objectSpread({},state);}case DECREMENT_QUANTITY:var bookToDelete=state.items.find(function(item){return item.book.id===Number(action.payload);});if(bookToDelete){var _newItem2={};_newItem2=bookToDelete;_newItem2.quantity-=1;return _objectSpread(_objectSpread({},state),{},{subTotal:state.subTotal-_newItem2.book.price,total:state.total-_newItem2.book.price});}else{return _objectSpread({},state);}case REMOVE_FROM_CART:var bookTORemove=state.items.find(function(item){return item.book.id===Number(action.payload);});var updatedItems=state.items.filter(function(item){return item.book.id!==Number(action.payload);});var removeShppingCharge=state.total-bookTORemove.book.price*bookTORemove.quantity-state.shipping;return _objectSpread(_objectSpread({},state),{},{items:updatedItems,subTotal:state.subTotal-bookTORemove.book.price*bookTORemove.quantity,total:state.total-bookTORemove.book.price*bookTORemove.quantity-(removeShppingCharge>0?0:state.shipping)});case EMPTY_CART:return _objectSpread(_objectSpread({},state),{},{items:[],subTotal:0,total:0});default:return _objectSpread({},state);}});","map":{"version":3,"sources":["C:/Users/dilji/capstone/sync/Capstone-project/client/src/reducers/cartReducer.js"],"names":["ADD_TO_CART","INCREMENT_QUANTITY","DECREMENT_QUANTITY","REMOVE_FROM_CART","EMPTY_CART","CART_STATE","items","subTotal","total","shipping","state","action","type","newItem","alreadyExist","find","item","book","id","payload","quantity","price","Number","bookToDelete","bookTORemove","updatedItems","filter","removeShppingCharge"],"mappings":"mXAAA,OAASA,WAAT,CAAsBC,kBAAtB,CAA0CC,kBAA1C,CAA8DC,gBAA9D,CAAgFC,UAAhF,KAAkG,kBAAlG,CAEA,GAAMC,CAAAA,UAAU,CAAG,CACfC,KAAK,CAAE,EADQ,CAEfC,QAAQ,CAAE,CAFK,CAGfC,KAAK,CAAE,CAHQ,CAIfC,QAAQ,CAAE,EAJK,CAAnB,CAOA,eAAe,UAAgC,IAA/BC,CAAAA,KAA+B,2DAAvBL,UAAuB,IAAXM,CAAAA,MAAW,2CAE3C,OAAQA,MAAM,CAACC,IAAf,EAEI,IAAKZ,CAAAA,WAAL,CAEI,GAAIa,CAAAA,OAAO,CAAG,EAAd,CACA,GAAMC,CAAAA,YAAY,CAAGJ,KAAK,CAACJ,KAAN,CAAYS,IAAZ,CAAiB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,CAAUC,EAAV,GAAiBP,MAAM,CAACQ,OAAP,CAAeD,EAA1C,EAAjB,CAArB,CAEA,GAAIJ,YAAJ,CAAkB,CACdD,OAAO,CAAGC,YAAV,CACAD,OAAO,CAACO,QAAR,EAAoB,CAApB,CACA,sCACOV,KADP,MAEIH,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAiBM,OAAO,CAACI,IAAR,CAAaI,KAF5C,CAGIb,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAcK,OAAO,CAACI,IAAR,CAAaI,KAHtC,GAKH,CARD,IAQO,CACHR,OAAO,CAACI,IAAR,CAAeN,MAAM,CAACQ,OAAtB,CACAN,OAAO,CAACO,QAAR,CAAmB,CAAnB,CACA,sCACOV,KADP,MAEIJ,KAAK,8BAAMI,KAAK,CAACJ,KAAZ,GAAmBO,OAAnB,EAFT,CAGIN,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAiBM,OAAO,CAACI,IAAR,CAAaI,KAH5C,CAIIb,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAcK,OAAO,CAACI,IAAR,CAAaI,KAA3B,EAAoCX,KAAK,CAACF,KAAN,CAAc,CAAd,CAAkB,CAAlB,CAAsBE,KAAK,CAACD,QAAhE,CAJX,GAMH,CAIL,IAAKR,CAAAA,kBAAL,CAEI,GAAIgB,CAAAA,IAAI,CAAGP,KAAK,CAACJ,KAAN,CAAYS,IAAZ,CAAiB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,CAAUC,EAAV,GAAiBI,MAAM,CAACX,MAAM,CAACQ,OAAR,CAAjC,EAAjB,CAAX,CACA,GAAIF,IAAJ,CAAU,CACN,GAAIJ,CAAAA,QAAO,CAAG,EAAd,CACAA,QAAO,CAAGI,IAAV,CACAJ,QAAO,CAACO,QAAR,EAAoB,CAApB,CACA,sCACOV,KADP,MAEIH,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAiBM,QAAO,CAACI,IAAR,CAAaI,KAF5C,CAGIb,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAcK,QAAO,CAACI,IAAR,CAAaI,KAHtC,GAKH,CATD,IASO,CACH,wBACOX,KADP,EAGH,CAIL,IAAKR,CAAAA,kBAAL,CAEI,GAAIqB,CAAAA,YAAY,CAAGb,KAAK,CAACJ,KAAN,CAAYS,IAAZ,CAAiB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,CAAUC,EAAV,GAAiBI,MAAM,CAACX,MAAM,CAACQ,OAAR,CAAjC,EAAjB,CAAnB,CACA,GAAII,YAAJ,CAAkB,CACd,GAAIV,CAAAA,SAAO,CAAG,EAAd,CACAA,SAAO,CAAGU,YAAV,CACAV,SAAO,CAACO,QAAR,EAAoB,CAApB,CACA,sCACOV,KADP,MAEIH,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAiBM,SAAO,CAACI,IAAR,CAAaI,KAF5C,CAGIb,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAcK,SAAO,CAACI,IAAR,CAAaI,KAHtC,GAKH,CATD,IASO,CACH,wBACOX,KADP,EAGH,CAIL,IAAKP,CAAAA,gBAAL,CACI,GAAMqB,CAAAA,YAAY,CAAGd,KAAK,CAACJ,KAAN,CAAYS,IAAZ,CAAiB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,CAAUC,EAAV,GAAiBI,MAAM,CAACX,MAAM,CAACQ,OAAR,CAAjC,EAAjB,CAArB,CACA,GAAMM,CAAAA,YAAY,CAAGf,KAAK,CAACJ,KAAN,CAAYoB,MAAZ,CAAmB,SAACV,IAAD,QAAUA,CAAAA,IAAI,CAACC,IAAL,CAAUC,EAAV,GAAiBI,MAAM,CAACX,MAAM,CAACQ,OAAR,CAAjC,EAAnB,CAArB,CACA,GAAMQ,CAAAA,mBAAmB,CAAGjB,KAAK,CAACF,KAAN,CAAegB,YAAY,CAACP,IAAb,CAAkBI,KAAlB,CAA0BG,YAAY,CAACJ,QAAtD,CAAkEV,KAAK,CAACD,QAApG,CACA,sCACOC,KADP,MAEIJ,KAAK,CAAEmB,YAFX,CAGIlB,QAAQ,CAAEG,KAAK,CAACH,QAAN,CAAkBiB,YAAY,CAACP,IAAb,CAAkBI,KAAlB,CAA0BG,YAAY,CAACJ,QAHvE,CAIIZ,KAAK,CAAEE,KAAK,CAACF,KAAN,CAAegB,YAAY,CAACP,IAAb,CAAkBI,KAAlB,CAA0BG,YAAY,CAACJ,QAAtD,EAAmEO,mBAAmB,CAAG,CAAtB,CAA0B,CAA1B,CAA8BjB,KAAK,CAACD,QAAvG,CAJX,GAQJ,IAAKL,CAAAA,UAAL,CACI,sCACOM,KADP,MAEIJ,KAAK,CAAE,EAFX,CAGIC,QAAQ,CAAE,CAHd,CAIIC,KAAK,CAAE,CAJX,GAQJ,QACI,wBACOE,KADP,EA1FR,CA8FH,CAhGD","sourcesContent":["import { ADD_TO_CART, INCREMENT_QUANTITY, DECREMENT_QUANTITY, REMOVE_FROM_CART, EMPTY_CART } from '../actions/types';\r\n\r\nconst CART_STATE = {\r\n    items: [],\r\n    subTotal: 0,\r\n    total: 0,\r\n    shipping: 99\r\n}\r\n\r\nexport default (state = CART_STATE, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ADD_TO_CART:\r\n\r\n            let newItem = {};\r\n            const alreadyExist = state.items.find((item) => item.book.id === action.payload.id);\r\n\r\n            if (alreadyExist) {\r\n                newItem = alreadyExist;\r\n                newItem.quantity += 1;\r\n                return {\r\n                    ...state,\r\n                    subTotal: state.subTotal + newItem.book.price,\r\n                    total: state.total + newItem.book.price\r\n                }\r\n            } else {\r\n                newItem.book = action.payload;\r\n                newItem.quantity = 1;\r\n                return {\r\n                    ...state,\r\n                    items: [...state.items, newItem],\r\n                    subTotal: state.subTotal + newItem.book.price,\r\n                    total: state.total + newItem.book.price + (state.total > 0 ? 0 : state.shipping)\r\n                }\r\n            }\r\n\r\n\r\n\r\n        case INCREMENT_QUANTITY:\r\n\r\n            let book = state.items.find((item) => item.book.id === Number(action.payload));\r\n            if (book) {\r\n                let newItem = {};\r\n                newItem = book;\r\n                newItem.quantity += 1;\r\n                return {\r\n                    ...state,\r\n                    subTotal: state.subTotal + newItem.book.price,\r\n                    total: state.total + newItem.book.price\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n\r\n\r\n\r\n        case DECREMENT_QUANTITY:\r\n\r\n            let bookToDelete = state.items.find((item) => item.book.id === Number(action.payload));\r\n            if (bookToDelete) {\r\n                let newItem = {};\r\n                newItem = bookToDelete;\r\n                newItem.quantity -= 1;\r\n                return {\r\n                    ...state,\r\n                    subTotal: state.subTotal - newItem.book.price,\r\n                    total: state.total - newItem.book.price\r\n                }\r\n            } else {\r\n                return {\r\n                    ...state\r\n                }\r\n            }\r\n\r\n\r\n\r\n        case REMOVE_FROM_CART:\r\n            const bookTORemove = state.items.find((item) => item.book.id === Number(action.payload))\r\n            const updatedItems = state.items.filter((item) => item.book.id !== Number(action.payload))\r\n            const removeShppingCharge = state.total - (bookTORemove.book.price * bookTORemove.quantity) - state.shipping;\r\n            return {\r\n                ...state,\r\n                items: updatedItems,\r\n                subTotal: state.subTotal - (bookTORemove.book.price * bookTORemove.quantity),\r\n                total: state.total - (bookTORemove.book.price * bookTORemove.quantity) - (removeShppingCharge > 0 ? 0 : state.shipping)\r\n            }\r\n\r\n\r\n        case EMPTY_CART:\r\n            return {\r\n                ...state,\r\n                items: [],\r\n                subTotal: 0,\r\n                total: 0,\r\n            }\r\n\r\n\r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}